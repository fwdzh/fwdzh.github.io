# 公平组合游戏

## Nim 游戏

### 规则

有 $n$ 堆物品，每堆有 $a_i$ 个物品，两个玩家轮流从任意一堆里取任意个物品，但不能不取。

取走最后一个物品的人获胜。

### solution

如果 $n$ 个数的异或和为 0,那么先手必败，否则先手必胜。

其实这个非常好理解。初始时，如果异或和为非 0, 那么先手的人只要拿那个数量的物品，异或和就会变为 0。

另一个人不管咋拿，到第一个人的时候，异或和都会是非 0。第一个人可以保证轮到自己时，每堆物品数量的异或和一直为非 0, 且另一个人取时永远异或和为 0。所以只有后手的人会先碰到没有物品选的情况。

[P2197 【模板】Nim 游戏](https://www.luogu.com.cn/problem/P2197)